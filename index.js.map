{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["// Imports from libraries\nimport axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n// Pixabay API Key\nconst API_KEY = '54652097-fa33845d90f17562231f3e558';\n\n// Function to fetch images from Pixabay API\nexport function getImagesByQuery(query) {\n  // Make a GET request using Axios\n  return axios({\n    method: 'get',\n    url: 'https://pixabay.com/api/',\n    params: {\n      key: API_KEY,\n      q: query,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true,\n      per_page: 40, // Number of images per page\n    },\n  })\n    .then(function (response) {\n      // Log hits to console for debugging\n      console.log(response.data.hits);\n      // Return the data from the response\n      return response.data;\n    })\n    .catch(function (AxiosError) {\n      // Handle errors during the fetch\n      iziToast.error({\n        title: 'Error',\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n      });\n    });\n}\n","// Imports from libraries\nimport SimpleLightboxModule from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n// Initialize SimpleLightbox variable\nconst SimpleLightbox = SimpleLightboxModule.default || SimpleLightboxModule;\nlet lightbox;\n\n// Function to render the gallery markup\nexport function markupGallery(images) {\n  const galleryContainer = document.querySelector('.gallery');\n  // Create HTML markup for each image\n  const galleryMarkup = images\n    .map(\n      image =>\n        `<li class=\"photo-card\">\n            <a href=\"${image.largeImageURL}\">\n                <img src=\"${image.webformatURL}\" alt=\"${image.tags}\"/>\n            </a>\n            <div class=\"info\">\n            <div class=\"info-item\">\n                <p class=\"info-item\">\n                    <b>Likes</b>${image.likes}\n                </p>\n                </div>\n                <div class=\"info-item\">\n                <p class=\"info-item\">\n                    <b>Views</b>${image.views}\n                </p>\n                </div>\n                <div class=\"info-item\">\n                <p class=\"info-item\">\n                    <b>Comments</b>${image.comments}\n                </p>\n                </div>\n                <div class=\"info-item\">\n                <p class=\"info-item\">\n                    <b>Downloads</b>${image.downloads}\n                </p>\n                </div>\n            </div>\n        </li>`\n    )\n    .join('');\n\n  // Insert markup into the gallery container\n  galleryContainer.innerHTML = galleryMarkup;\n\n  // Initialize or refresh SimpleLightbox\n  if (!lightbox) {\n    lightbox = new SimpleLightbox('.gallery a', {\n      captions: true,\n      captionsData: 'alt',\n      captionDelay: 250,\n      closeText: '×',\n      navText: ['←', '→'],\n    });\n  } else {\n    lightbox.refresh();\n  }\n}\n\n// Function to clear the gallery content\nexport function clearGallery() {\n  const galleryContainer = document.querySelector('.gallery');\n  galleryContainer.innerHTML = '';\n}\n\n// Function to show the loader\nexport function showLoader() {\n  const loaderContainer = document.querySelector('.loader');\n  loaderContainer.classList.remove('hidden');\n}\n\n// Function to hide the loader\nexport function hideLoader() {\n  const loaderContainer = document.querySelector('.loader');\n  loaderContainer.classList.add('hidden');\n}\n","// Imports from other modules and libraries\nimport { getImagesByQuery } from './js/pixabay-api.js';\nimport {\n  markupGallery,\n  clearGallery,\n  showLoader,\n  hideLoader,\n} from './js/render-functions.js';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n// DOM Elements\nconst form = document.querySelector('.form');\nconst jsSearchQuery = document.querySelector('.js-search-query');\nlet query = '';\n\n// Event listener for form submission\nform.addEventListener('submit', onFormSubmit);\n\n// Function to handle form submission\nfunction onFormSubmit(e) {\n  e.preventDefault(); // Prevent default form submission behavior\n\n  // Clear gallery and show loader before fetching data\n  clearGallery();\n  showLoader();\n\n  // Get and trim the search query\n  query = e.currentTarget.searchText.value.trim();\n  form.reset(); // Reset the form fields\n\n  // Validate the query\n  if (query === '') {\n    iziToast.info({\n      title: 'Info',\n      position: 'topRight',\n      message: 'Please enter a search query!',\n    });\n    hideLoader(); // Hide loader if validation fails\n    return;\n  }\n\n  // Display the search query to the user\n  jsSearchQuery.textContent = `Search query : \"${query}\"`;\n\n  // Fetch images from the API\n  getImagesByQuery(query)\n    .then(images => {\n      // Check if no images were found\n      if (images.hits.length === 0) {\n        iziToast.info({\n          title: 'Info',\n          position: 'topRight',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n      }\n      // Render the gallery with the fetched images\n      markupGallery(images.hits);\n    })\n    .catch(AxiosError => {\n      // Handle errors during the fetch\n      iziToast.error({\n        title: 'Error',\n        position: 'topRight',\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n      });\n    })\n    .finally(() => {\n      // Hide the loader regardless of success or failure\n      hideLoader();\n    });\n}\n"],"names":["API_KEY","getImagesByQuery","query","axios","response","AxiosError","iziToast","SimpleLightbox","SimpleLightboxModule","lightbox","markupGallery","images","galleryContainer","galleryMarkup","image","clearGallery","showLoader","hideLoader","form","jsSearchQuery","onFormSubmit","e"],"mappings":"owBAMA,MAAMA,EAAU,qCAGT,SAASC,EAAiBC,EAAO,CAEtC,OAAOC,EAAM,CACX,OAAQ,MACR,IAAK,2BACL,OAAQ,CACN,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,EACX,CACL,CAAG,EACE,KAAK,SAAUE,EAAU,CAExB,eAAQ,IAAIA,EAAS,KAAK,IAAI,EAEvBA,EAAS,IACtB,CAAK,EACA,MAAM,SAAUC,EAAY,CAE3BC,EAAS,MAAM,CACb,MAAO,QACP,QACE,0EACV,CAAO,CACP,CAAK,CACL,CC9BA,MAAMC,EAAiBC,EAAqB,SAAWA,EACvD,IAAIC,EAGG,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAAmB,SAAS,cAAc,UAAU,EAEpDC,EAAgBF,EACnB,IACCG,GACE;AAAA,uBACeA,EAAM,aAAa;AAAA,4BACdA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,kCAKhCA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA,kCAKXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA,qCAKRA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,sCAKbA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,cAKhD,EACA,KAAK,EAAE,EAGVF,EAAiB,UAAYC,EAGxBJ,EASHA,EAAS,QAAO,EARhBA,EAAW,IAAIF,EAAe,aAAc,CAC1C,SAAU,GACV,aAAc,MACd,aAAc,IACd,UAAW,IACX,QAAS,CAAC,IAAK,GAAG,CACxB,CAAK,CAIL,CAGO,SAASQ,GAAe,CAC7B,MAAMH,EAAmB,SAAS,cAAc,UAAU,EAC1DA,EAAiB,UAAY,EAC/B,CAGO,SAASI,GAAa,CACH,SAAS,cAAc,SAAS,EACxC,UAAU,OAAO,QAAQ,CAC3C,CAGO,SAASC,GAAa,CACH,SAAS,cAAc,SAAS,EACxC,UAAU,IAAI,QAAQ,CACxC,CCpEA,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAgB,SAAS,cAAc,kBAAkB,EAC/D,IAAIjB,EAAQ,GAGZgB,EAAK,iBAAiB,SAAUE,CAAY,EAG5C,SAASA,EAAaC,EAAG,CAYvB,GAXAA,EAAE,eAAc,EAGhBN,IACAC,IAGAd,EAAQmB,EAAE,cAAc,WAAW,MAAM,KAAI,EAC7CH,EAAK,MAAK,EAGNhB,IAAU,GAAI,CAChBI,EAAS,KAAK,CACZ,MAAO,OACP,SAAU,WACV,QAAS,8BACf,CAAK,EACDW,IACA,MACD,CAGDE,EAAc,YAAc,mBAAmBjB,CAAK,IAGpDD,EAAiBC,CAAK,EACnB,KAAKS,GAAU,CAEVA,EAAO,KAAK,SAAW,GACzBL,EAAS,KAAK,CACZ,MAAO,OACP,SAAU,WACV,QACE,0EACZ,CAAS,EAGHI,EAAcC,EAAO,IAAI,CAC/B,CAAK,EACA,MAAMN,GAAc,CAEnBC,EAAS,MAAM,CACb,MAAO,QACP,SAAU,WACV,QACE,0EACV,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CAEbW,GACN,CAAK,CACL"}