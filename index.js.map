{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["//imports\nimport axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst API_KEY = '54652097-fa33845d90f17562231f3e558';\n\nexport function getImagesByQuery(query) {\n  return axios({\n    method: 'get',\n    url: 'https://pixabay.com/api/',\n    params: {\n      key: API_KEY,\n      q: query,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true,\n      per_page: 40,\n    },\n  })\n    .then(function (response) {\n      console.log(response.data.hits);\n      return response.data;\n    })\n    .catch(function (AxiosError) {\n      iziToast.error({\n        title: 'Error',\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n      });\n    });\n}\n","//imports\nimport SimpleLightboxModule from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst SimpleLightbox = SimpleLightboxModule.default || SimpleLightboxModule;\nlet lightbox;\n\nexport function markupGallery(images) {\n  const galleryContainer = document.querySelector('.gallery');\n  const galleryMarkup = images\n    .map(\n      image =>\n        `<div class=\"photo-card\">\n            <a href=\"${image.largeImageURL}\">\n                <img src=\"${image.webformatURL}\" alt=\"${image.tags}\"/>\n            </a>\n            <div class=\"info\">\n            <div class=\"info-item\">\n                <p class=\"info-item\">\n                    <b>Likes</b>${image.likes}\n                </p>\n                </div>\n                <div class=\"info-item\">\n                <p class=\"info-item\">\n                    <b>Views</b>${image.views}\n                </p>\n                </div>\n                <div class=\"info-item\">\n                <p class=\"info-item\">\n                    <b>Comments</b>${image.comments}\n                </p>\n                </div>\n                <div class=\"info-item\">\n                <p class=\"info-item\">\n                    <b>Downloads</b>${image.downloads}\n                </p>\n                </div>\n            </div>\n        </div>`\n    )\n    .join('');\n  galleryContainer.innerHTML = galleryMarkup;\n\n  if (!lightbox) {\n    lightbox = new SimpleLightbox('.gallery a', {\n      captions: true,\n      captionsData: 'alt',\n      captionDelay: 250,\n      closeText: '×',\n      navText: ['←', '→'],\n    });\n  } else {\n    lightbox.refresh();\n  }\n}\nexport function clearGallery() {\n  const galleryContainer = document.querySelector('.gallery');\n  galleryContainer.innerHTML = '';\n}\nexport function showLoader() {\n  const loaderContainer = document.querySelector('.loader');\n  loaderContainer.classList.remove('hidden');\n}\nexport function hideLoader() {\n  const loaderContainer = document.querySelector('.loader');\n  loaderContainer.classList.add('hidden');\n}\n","//imports\nimport { getImagesByQuery } from './js/pixabay-api.js';\nimport {\n  markupGallery,\n  clearGallery,\n  showLoader,\n  hideLoader,\n} from './js/render-functions.js';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { AxiosError } from 'axios';\n\n//variables\nconst form = document.querySelector('.form');\nconst galleryContainer = document.querySelector('.gallery');\nconst loaderContainer = document.querySelector('.loader');\nconst jsSearchQuery = document.querySelector('.js-search-query');\nlet query = '';\nlet totalImages = 0;\nlet perPage = 40;\nlet lightbox = null;\n\nform.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n  clearGallery();\n  showLoader();\n  query = e.currentTarget.searchText.value.trim();\n  jsSearchQuery.textContent = `Search query : \"${query}\"`;\n  form.reset();\n  getImagesByQuery(query)\n    .then(images => {\n      if (images.hits.length === 0) {\n        iziToast.info({\n          title: 'Info',\n          position: 'topRight',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n      }\n      markupGallery(images.hits);\n    })\n    .catch(AxiosError => {\n      iziToast.error({\n        title: 'Error',\n        position: 'topRight',\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n      });\n    })\n    .finally(() => {\n      hideLoader();\n    });\n}\n"],"names":["API_KEY","getImagesByQuery","query","axios","response","AxiosError","iziToast","SimpleLightbox","SimpleLightboxModule","lightbox","markupGallery","images","galleryContainer","galleryMarkup","image","clearGallery","showLoader","hideLoader","form","jsSearchQuery","onFormSubmit","e"],"mappings":"owBAKA,MAAMA,EAAU,qCAET,SAASC,EAAiBC,EAAO,CACtC,OAAOC,EAAM,CACX,OAAQ,MACR,IAAK,2BACL,OAAQ,CACN,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,EACX,CACL,CAAG,EACE,KAAK,SAAUE,EAAU,CACxB,eAAQ,IAAIA,EAAS,KAAK,IAAI,EACvBA,EAAS,IACtB,CAAK,EACA,MAAM,SAAUC,EAAY,CAC3BC,EAAS,MAAM,CACb,MAAO,QACP,QACE,0EACV,CAAO,CACP,CAAK,CACL,CCzBA,MAAMC,EAAiBC,EAAqB,SAAWA,EACvD,IAAIC,EAEG,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAAmB,SAAS,cAAc,UAAU,EACpDC,EAAgBF,EACnB,IACCG,GACE;AAAA,uBACeA,EAAM,aAAa;AAAA,4BACdA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,kCAKhCA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA,kCAKXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA,qCAKRA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,sCAKbA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,eAKhD,EACA,KAAK,EAAE,EACVF,EAAiB,UAAYC,EAExBJ,EASHA,EAAS,QAAO,EARhBA,EAAW,IAAIF,EAAe,aAAc,CAC1C,SAAU,GACV,aAAc,MACd,aAAc,IACd,UAAW,IACX,QAAS,CAAC,IAAK,GAAG,CACxB,CAAK,CAIL,CACO,SAASQ,GAAe,CAC7B,MAAMH,EAAmB,SAAS,cAAc,UAAU,EAC1DA,EAAiB,UAAY,EAC/B,CACO,SAASI,GAAa,CACH,SAAS,cAAc,SAAS,EACxC,UAAU,OAAO,QAAQ,CAC3C,CACO,SAASC,GAAa,CACH,SAAS,cAAc,SAAS,EACxC,UAAU,IAAI,QAAQ,CACxC,CCrDA,MAAMC,EAAO,SAAS,cAAc,OAAO,EAClB,SAAS,cAAc,UAAU,EAClC,SAAS,cAAc,SAAS,EACxD,MAAMC,EAAgB,SAAS,cAAc,kBAAkB,EAC/D,IAAIjB,EAAQ,GAKZgB,EAAK,iBAAiB,SAAUE,CAAY,EAE5C,SAASA,EAAaC,EAAG,CACvBA,EAAE,eAAc,EAChBN,IACAC,IACAd,EAAQmB,EAAE,cAAc,WAAW,MAAM,KAAI,EAC7CF,EAAc,YAAc,mBAAmBjB,CAAK,IACpDgB,EAAK,MAAK,EACVjB,EAAiBC,CAAK,EACnB,KAAKS,GAAU,CACVA,EAAO,KAAK,SAAW,GACzBL,EAAS,KAAK,CACZ,MAAO,OACP,SAAU,WACV,QACE,0EACZ,CAAS,EAEHI,EAAcC,EAAO,IAAI,CAC/B,CAAK,EACA,MAAMN,GAAc,CACnBC,EAAS,MAAM,CACb,MAAO,QACP,SAAU,WACV,QACE,0EACV,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbW,GACN,CAAK,CACL"}